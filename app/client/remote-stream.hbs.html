<template name="remoteStream">
  <div class="stream js-video-{{remoteUser._id}} {{#if isTalking}}talking{{/if}}" data-state="{{state}}">
    <div class="stream-name">
        {{remoteUser.name}}
    </div>
    <div class="js-webcam webcam">
      {{#unless mediaState.shareAudio}}
        <div class="mute">
          <div>🎤</div>
          <div>❌</div>
        </div>
      {{/unless}}
      {{#unless mediaState.shareVideo}}
        <img src={{remoteUser.avatar}} alt="avatar">
      {{/unless}}
      {{#if hasUserStream}}
        {{> webcam triggerVar=talkingVar remoteUser=remoteUser}}
      {{/if}}
    </div>
    {{#if hasScreenStream}}
      <div class="js-screenshare screenshare">
        {{> screenshare triggerVar=talkingVar remoteUser=remoteUser}}
      </div>
    {{/if}}
  </div>
</template>

<template name="webcam">
  <video id="webcam-{{_id}}" type="video/mp4" width="320" height="240" autoplay></video>
</template>
<template name="screenshare">
  <video id="video-screen-{{_id}}" type="video/mp4" autoplay muted></video>
</template>
