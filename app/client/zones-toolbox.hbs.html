<template name="zonesToolboxProperties">
  {{#modal id="displayZoneId" title=name data=this}}
    <div class="zones-toolbox-properties">
      <textarea>{{properties}}</textarea>
      <div class="actions">
        <span class="button js-zone-delete">🗑️ Delete</span>
        <span class="button js-zone-cancel">❌ Cancel</span>
        <span class="button js-zone-save">💾 Save</span>
      </div>
    </div>
  {{/modal}}
</template>

<template name="zonesToolbox">
  <div class="zones-toolbox">
    <div class="button js-zone-add">＋ Add a zone</div>
    <div class="zones">
      {{#each zonesSortedByDistance}}
        <div class="zone {{#if eq (Session 'selectedZoneId') _id}}active{{/if}}">
          <span class="point js-properties">{{#if name}}<b>{{name}}</b>{{else}}{{_id}}{{/if}}</span>
          <span class="point js-set1 {{#if eq (Session 'selectedZonePoint') 1}}active{{/if}}">{{x1}}/{{y1}}</span>
          ->
          <span class="point js-set2 {{#if eq (Session 'selectedZonePoint') 2}}active{{/if}}">{{x2}}/{{y2}}</span>
        </div>
      {{/each}}
    </div>
    Pointer {{Session 'pointerX'}}/{{Session 'pointerY'}}
  </div>
  {{#with displayZone}}
    {{> zonesToolboxProperties}}
  {{/with}}
</template>
