<template name="userListEntry">
  <li class="user">
    <div class="main">
      {{> avatarViewer user=user showStatus=true}}
      <span class="js-profile">{{user.profile.name}}</span>
    </div>
    <div class="guild">
      {{#if guild}}<span class="js-guild">{{guild}}</span>{{else}}<span>-</span>{{/if}}
    </div>
    <div class="zone">
      <span>{{zone}}</span>
    </div>
    <div class="actions">
      {{#if communicationAllowed}}
        <span class="js-send-message">ğŸ’¬</span>
        <span class="js-create-quest">ğŸ“œ</span>
      {{else}}
        <span>-</span>
      {{/if}}
    </div>
    <div class="infos">
      {{#if admin}}
        <span title="Is admin">ğŸ‘‘</span>
      {{else if levelOwner}}
        <span title="Is level owner">ğŸ—ºï¸</span>
      {{else if canEditPermissions}}
        {{#if canEditLevel}}
          <span class="js-toggle-edition" title="Edition allowed">ğŸ”¨</span>
        {{else}}
          <span class="js-toggle-edition denied" title="Click to allow edition">ğŸ”¨</span>
        {{/if}}
      {{/if}}
    </div>
  </li>
</template>

<template name="userList">
  {{#modal id="displayUserList" title=title}}
    <div class="user-list">
      <ul class="users">
        {{#each user in users}}
          {{> userListEntry user=user canEditPermissions=canEditPermissions}}
        {{/each}}
      </ul>
    </div>
  {{/modal}}
</template>
