<template name="notificationsAudioPlayer">
  <button type="button" class="js-play {{#if isPlaying}}playing{{/if}}"></button>
  <span>{{duration}}</span>
</template>

<template name="notification">
  <li class="notification {{#if read}}read{{/if}} {{#unless fileId}}js-notification-clickable{{/unless}}">
    {{> avatarViewer user=user}}
    <div class="notification-content">
      <div class="date">{{date}}</div>
      <div class="name">{{user.profile.name}}</div>
      <div class="subject">
        {{#if fileId}}
          {{> notificationsAudioPlayer}}
        {{else if quest}}
          <div class="subject">{{#if newQuest}}has a new quest for you{{else}}has updated a quest{{/if}}</div>
        {{else}}
          <div class="subject">sent you a message</div>
        {{/if}}
      </div>
    </div>
  </li>
</template>

<template name="notificationButton">
  {{#unless guest}}
    <button type="button" class="button js-notifications {{#if pendingNotificationsCount}}visible{{/if}}" data-count="{{ pendingNotificationsCount }}">ðŸ””</button>
  {{/unless}}
</template>

<template name="notifications">
  {{#modal id="displayNotificationsPanel" title="Notifications"}}
    <div class="notifications">
      <ul>
        {{#each notifications}}
          {{> notification}}
        {{/each}}
      </ul>
    </div>
  {{/modal}}
</template>
