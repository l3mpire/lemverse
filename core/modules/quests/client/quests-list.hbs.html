<template name="questListEntry">
  <li class="js-quest quest {{#if selected}}selected{{/if}} {{#if hasUpdates}}updated{{/if}}" data-quest-id="{{this._id}}">
    {{> avatarViewer user=user}}
    <span>{{title}}</span>
  </li>
</template>

<template name="questsList">
  <div class="quests-list {{#if show}}show{{/if}}">
  
    <div class="quest-mode-selectors">
      <button type="button" class="js-quest-switch-mode {{#if isActiveMode "mine"}}active{{/if}}" data-mode="mine"><span>ðŸ“œ</span> To do</button>
      <button type="button" class="js-quest-switch-mode {{#if isActiveMode "completed"}}active{{/if}}" data-mode="completed"><span>ðŸŽ‰</span> Completed</button>
    </div>

    <ul class="quests">
      {{#if newQuest}}
        <li class="js-quest quest creating  {{#if draftQuestSelected}}selected{{/if}}" data-quest-id="{{draftQuestId}}"><i>(draft) {{newQuest}}</i></li>
      {{/if}}

      {{#each questsCategorized}}
        <li class="js-category-name">{{name}} ({{count}})</li>
        {{#each quests}}
          {{> questListEntry}}
        {{/each}}
      {{else}}
        <li class="empty">--- empty ---</li>
      {{/each}}
    </ul>
  </div>
</template>
