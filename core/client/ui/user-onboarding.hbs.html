<template name="userOnboarding">
    <div class="onboarding">
        <img class="logo" src='lemverse.png' alt="logo" />
        {{#if eq step 1}}
        <div class="main">
            <div class="main-title">
                Activate your camera and microphone to continue
            </div>
            <div class="content">
                <img class="permission-img" src='screenshot-user-media.png' alt="User permission popup" />
            </div>
            <button disabled="{{#if not streamAccepted}}disabled{{/if}}"
                class="button {{#if not streamAccepted}}button__disabled{{/if}}">Continue</button>
        </div>
        {{else if eq step 2}}
        <div class="main">
            <div class="main-title">
                Meet new people!
            </div>
            <div class="content">
              <img src='meet.gif' alt="Meet" />
            </div>
            <button class="button">Continue</button>
        </div>
        {{else if (and (eq step 3) (not isMobile))}}
        <div class="main">
            <div class="main-title">
                Try to move in all directions
            </div>
            <div class="content direction-content {{direction}}">
                <div class="keyboards">
                    <div class="keyboard">
                        <div class="keyinput {{#if eq pressedKeyboard 'KeyW' }}pressed{{/if}}">{{ getCorrespondingKey 'z' }}</div>
                        <div class="bottom-keyinput">
                            <div class="keyinput {{#if eq pressedKeyboard 'KeyA' }}pressed{{/if}}">{{ getCorrespondingKey 'q' }}</div>
                            <div class="keyinput {{#if eq pressedKeyboard 'KeyS' }}pressed{{/if}}">{{ getCorrespondingKey 's' }}</div>
                            <div class="keyinput {{#if eq pressedKeyboard 'KeyD' }}pressed{{/if}}">{{ getCorrespondingKey 'd' }}</div>
                        </div>
                    </div>
                    <div class="keyboard">
                        <div class="keyinput {{#if eq pressedKeyboard 'ArrowUp'}}pressed{{/if}}">↑</div>
                        <div class="bottom-keyinput">
                            <div class="keyinput {{#if eq pressedKeyboard 'ArrowLeft'}}pressed{{/if}}">←</div>
                            <div class="keyinput {{#if eq pressedKeyboard 'ArrowDown'}}pressed{{/if}}">↓</div>
                            <div class="keyinput {{#if eq pressedKeyboard 'ArrowRight'}}pressed{{/if}}">→</div>
                        </div>
                    </div>
                </div>
                <div class="arrows">
                    <div class="arrow">{{#if hasLearnedDirection 'up'}}✅{{else}}↑{{/if}}</div>
                    <div class="middle-arrow">
                        <div class="arrow">{{#if hasLearnedDirection 'left'}}✅{{else}}←{{/if}}</div>
                        <div class="avatar {{direction}}" style="background-image: url({{ getAvatarUrl }});"></div>
                        <div class="arrow">{{#if hasLearnedDirection 'right'}}✅{{else}}→{{/if}}</div>
                    </div>
                    <div class="arrow">{{#if hasLearnedDirection 'down'}}✅{{else}}↓{{/if}}</div>
                </div>
            </div>
            <button disabled="{{#if not hasLearnedAllDirections}}disabled{{/if}}" class="button">Continue</button>
        </div>
        {{else if (or (eq step 4) (and isMobile (eq step 3)))}}
        <div class="main">
            <div class="main-title">
                Personalize your character!
            </div>
            <div class="content">
                {{> settingsCharacter}}
            </div>
            <button class="button">Let's go!</button>
        </div>
        {{/if}}
        <div></div>
    </div>
</template>